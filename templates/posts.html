{% extends "base.html" %}
{% load static %}
{% block contenido %}
<section>
    <div class="container">
        <h1>Artículos</h1>

        <!-- Mostrar todas las categorías -->
        <h3>Estas son las categorías:</h3>
        <ul>
            {% for categoria in categorias %}
                <li><a href="{% url 'blog:categoria_posts' categoria.id %}">{{ categoria.nombre }}</a></li>
            {% endfor %}
        </ul>

        <!-- Mostrar los posts -->
        <h3>Posts en la categoría: {{ categoria.nombre }}</h3>
        <div class="row">
            {% for post in posts %}
                <div class="col-md-4">
                    <div class="post">
                        <h4><a href="{% url 'blog:postdetalle' post.id %}">{{ post.titulo }}</a></h4>
                        <p>{{ post.contenido|truncatewords:20 }}</p>
                        <p><small>Publicado el {{ post.fecha_publicacion }}</small></p>
                    </div>
                </div>
            {% empty %}
                <p>No hay posts disponibles en esta categoría.</p>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
